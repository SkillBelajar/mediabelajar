{"version":3,"sources":["../../build/js/loadjs.js","../../build/js/requestAnimationFrame.js","../../build/js/ewcfg.js"],"names":["this","loadjs","devnull","bundleIdCache","bundleResultCache","bundleCallbackQueue","publish","bundleId","pathsNotFound","q","length","splice","executeCallbacks","args","depsNotFound","call","success","error","loadFile","path","callbackFn","numTries","isLegacyIECss","e","doc","document","async","maxTries","numRetries","beforeCallbackFn","before","pathname","replace","pathStripped","test","createElement","rel","href","relList","as","src","undefined","onload","onerror","onbeforeload","ev","result","type","sheet","cssText","x","code","defaultPrevented","tagName","head","appendChild","paths","arg1","arg2","trim","loadFn","resolve","reject","fn","i","numWaiting","push","loadFiles","returnPromise","Promise","ready","deps","bundleIds","r","subscribe","done","reset","isDefined","global","rafPrefix","nowOffset","Date","now","pnow","performance","requestAnimationFrame","callback","cancelAnimationFrame","lastTime","TypeError","currentTime","delay","setTimeout","id","clearTimeout","_initGridPanelsReq","ew","PAGE_ID","RELATIVE_PATH","GENERATE_PASSWORD_UPPERCASE","GENERATE_PASSWORD_LOWERCASE","GENERATE_PASSWORD_NUMBER","GENERATE_PASSWORD_SPECIALCHARS","CONFIRM_CANCEL","ROWTYPE_ADD","ROWTYPE_EDIT","UNFORMAT_YEAR","LAZY_LOAD_RETRIES","AJAX_DELAY","LOOKUP_DELAY","MAX_OPTION_COUNT","SHOW_EXPORT_DIALOG","USE_OVERLAY_SCROLLBARS","language","vars","googleMaps","addOptionDialog","emailDialog","importDialog","modalDialog","modalLookupDialog","autoSuggestSettings","highlight","hint","minLength","limit","trigger","templates","footer","lightboxSettings","transition","photo","opacity","importUploadOptions","maxFileSize","maxNumberOfFiles","DOMPurifyConfig","sanitize","str","DOMPurify","sanitizeFn","PDFObjectOptions","chartJsOptions","toastTemplate","spinnerClass","useJsRender","jsRenderHelpers","getTemplate","selector","autoHideSuccessMessage","autoHideSuccessMessageDelay","searchOperatorChanged","setLanguage","addOptionDialogShow","modalLookupShow","importDialogShow","toggleSearchOperator","togglePassword","sort","clickMultiCheckbox","clearForm","export","exportWithCharts","setSearchType","emailDialogShow","selectAll","selectAllKey","submitAction","addGridRow","confirmDelete","deleteGridRow","addSpinner","getElementById","div","setAttribute","innerHTML","phrase","body","removeSpinner","el","parentNode","removeChild","initGridPanel","dataset","isset","html","children","classList","add","initGridPanels","Array","prototype","forEach","querySelectorAll","_initGridPanels","timestamp","addEventListener","event","window","sidebarScrollbarsOptions","className","sizeAutoCapable","scrollbars","autoHide","clickScrolling","initSidebarScrollbars","$","jQuery","hasClass","overlayScrollbars","indexOf","isArray","shift","pathNotFound","console","log","join","Language","obj","toLowerCase","renderTemplate","tmpl","data","$tmpl","render","$template","method","target","parent","append","renderJsTemplates","find","a","b","parseInt","each","index","$this","name","text"],"mappings":";;;;oLAAAA,EAAKC,OAAU,WAMf,IAAIC,EAAU,aACVC,EAAgB,GAChBC,EAAoB,GACpBC,EAAsB,GAmD1B,SAASC,EAAQC,EAAUC,GAEzB,GAAKD,EAAL,CAEA,IAAIE,EAAIJ,EAAoBE,GAM5B,GAHAH,EAAkBG,GAAYC,EAGzBC,EAGL,KAAOA,EAAEC,QACPD,EAAE,GAAGF,EAAUC,GACfC,EAAEE,OAAO,EAAG,IAUhB,SAASC,EAAiBC,EAAMC,GAE1BD,EAAKE,OAAMF,EAAO,CAACG,QAASH,IAG5BC,EAAaJ,QAASG,EAAKI,OAASf,GAASY,IAC3CD,EAAKG,SAAWd,GAASW,GASjC,SAASK,EAASC,EAAMC,EAAYP,EAAMQ,GACxC,IAMIC,EACAC,EAPAC,EAAMC,SACNC,EAAQb,EAAKa,MACbC,GAAYd,EAAKe,YAAc,GAAK,EACpCC,EAAmBhB,EAAKiB,QAAU5B,EAClC6B,EAAWZ,EAAKa,QAAQ,YAAa,IACrCC,EAAed,EAAKa,QAAQ,cAAe,IAI/CX,EAAWA,GAAY,EAEnB,iBAAiBa,KAAKH,KAExBR,EAAIC,EAAIW,cAAc,SACpBC,IAAM,aACRb,EAAEc,KAAOJ,GAGTX,EAAgB,cAAeC,IAGVA,EAAEe,UACrBhB,EAAgB,EAChBC,EAAEa,IAAM,UACRb,EAAEgB,GAAK,UAEA,oCAAoCL,KAAKH,IAElDR,EAAIC,EAAIW,cAAc,QACpBK,IAAMP,IAGRV,EAAIC,EAAIW,cAAc,WACpBK,IAAMrB,EACRI,EAAEG,WAAkBe,IAAVf,GAA6BA,GAGzCH,EAAEmB,OAASnB,EAAEoB,QAAUpB,EAAEqB,aAAe,SAAUC,GAChD,IAAIC,EAASD,EAAGE,KAAK,GAIrB,GAAIzB,EACF,IACOC,EAAEyB,MAAMC,QAAQvC,SAAQoC,EAAS,KACtC,MAAOI,GAGO,IAAVA,EAAEC,OAAYL,EAAS,KAK/B,GAAc,KAAVA,GAKF,IAHAzB,GAAY,GAGGM,EACb,OAAOT,EAASC,EAAMC,EAAYP,EAAMQ,QAErC,GAAa,WAATE,EAAEa,KAA4B,SAARb,EAAEgB,GAEjC,OAAOhB,EAAEa,IAAM,aAIjBhB,EAAWD,EAAM2B,EAAQD,EAAGO,oBAII,IAA9BvB,EAAiBV,EAAMI,IAA6B,OAAbA,EAAE8B,SAAkB7B,EAAI8B,KAAKC,YAAYhC,GAiDtF,SAAStB,EAAOuD,EAAOC,EAAMC,GAC3B,IAAInD,EACAM,EASJ,GANI4C,GAAQA,EAAKE,OAAMpD,EAAWkD,GAGlC5C,GAAQN,EAAWmD,EAAOD,IAAS,GAG/BlD,EAAU,CACZ,GAAIA,KAAYJ,EACd,KAAM,SAENA,EAAcI,IAAY,EAI9B,SAASqD,EAAOC,EAASC,IA3D3B,SAAmBN,EAAOpC,EAAYP,GAIpC,IAGIkD,EACAC,EAJAC,GAFJT,EAAQA,EAAMU,KAAOV,EAAQ,CAACA,IAEP9C,OACnBwC,EAAIe,EACJzD,EAAgB,GAqBpB,IAhBAuD,EAAK,SAAS5C,EAAM2B,EAAQM,GAM1B,GAJc,KAAVN,GAAetC,EAAc0D,KAAK/C,GAIxB,KAAV2B,EAAe,CACjB,IAAIM,EACC,OADiB5C,EAAc0D,KAAK/C,KAI3C8C,GACiB7C,EAAWZ,IAIzBwD,EAAE,EAAGA,EAAId,EAAGc,IAAK9C,EAASsC,EAAMQ,GAAID,EAAIlD,GAiC3CsD,CAAUX,GAAO,SAAUhD,GAEzBI,EAAiBC,EAAML,GAGnBqD,GACFjD,EAAiB,CAACI,QAAS6C,EAAS5C,MAAO6C,GAAStD,GAItDF,EAAQC,EAAUC,KACjBK,GAGL,GAAIA,EAAKuD,cAAe,OAAO,IAAIC,QAAQT,GACtCA,IAiDP,OAxCA3D,EAAOqE,MAAQ,SAAeC,EAAM1D,GAOlC,OA/PF,SAAmB2D,EAAWpD,GAE5BoD,EAAYA,EAAUN,KAAOM,EAAY,CAACA,GAE1C,IAGIT,EACAxD,EACAkE,EALA3D,EAAe,GACfkD,EAAIQ,EAAU9D,OACduD,EAAaD,EAejB,IARAD,EAAK,SAAUxD,EAAUC,GACnBA,EAAcE,QAAQI,EAAaoD,KAAK3D,KAE5C0D,GACiB7C,EAAWN,IAIvBkD,KACLzD,EAAWiE,EAAUR,IAGrBS,EAAIrE,EAAkBG,IAEpBwD,EAAGxD,EAAUkE,IAKXpE,EAAoBE,GAAYF,EAAoBE,IAAa,IACnE2D,KAAKH,GAyNTW,CAAUH,GAAM,SAAUzD,GAExBF,EAAiBC,EAAMC,MAGlBb,GAQTA,EAAO0E,KAAO,SAAcpE,GAC1BD,EAAQC,EAAU,KAOpBN,EAAO2E,MAAQ,WACbzE,EAAgB,GAChBC,EAAoB,GACpBC,EAAsB,IAQxBJ,EAAO4E,UAAY,SAAmBtE,GACpC,OAAOA,KAAYJ,GAKdF,EAjTQ,GCAd,SAAU6E,GACV,IAAIC,EAGAC,EAAYC,KAAKC,MAIjBC,EAAO,WACV,OAAIL,EAAOM,aAAiD,mBAA3BN,EAAOM,YAAYF,IAC5CJ,EAAOM,YAAYF,MAGpBD,KAAKC,MAAQF,GAWrB,GARI,6BAA8BF,EACjCC,EAAY,MAEF,gCAAiCD,IAC3CC,EAAY,UAITA,EACED,EAAOO,wBACXP,EAAOO,sBAAwB,SAAUC,GACxC,OAAOR,EAAOC,EAAY,0BAAyB,WAClDO,EAASH,UAGPL,EAAOS,uBACXT,EAAOS,qBAAuBT,EAAOC,EAAY,6BAC5C,CAEN,IAAIS,EAAWP,KAAKC,MAEpBJ,EAAOO,sBAAwB,SAAUC,GACxC,GAAwB,mBAAbA,EACV,MAAM,IAAIG,UAAUH,EAAW,sBAGhC,IACAI,EAAcT,KAAKC,MACnBS,EAAQ,GAAKH,EAAWE,EAQxB,OANIC,EAAQ,IACXA,EAAQ,GAGTH,EAAWE,EAEJE,YAAW,WACjBJ,EAAWP,KAAKC,MAEhBI,EAASH,OACPQ,IAGJb,EAAOS,qBAAuB,SAAUM,GACvCC,aAAaD,KA5Df,CA+DC7F,OCiFE+F,EA7IAC,EAAK,CACRC,QAAS,GACTC,cAAe,GACfC,6BAA6B,EAC7BC,6BAA6B,EAC7BC,0BAA0B,EAC1BC,gCAAgC,EAChCC,gBAAgB,EAChBC,YAAa,EACbC,aAAc,EACdC,cAAe,GACfC,kBAAmB,EACnBC,WAAY,EACZC,aAAc,IACdC,iBAAkB,EAClBC,oBAAoB,EACpBC,wBAAwB,EACxBC,SAAU,KACVC,KAAM,KACNC,WAAY,GACZC,gBAAiB,KACjBC,YAAa,KACbC,aAAc,KACdC,YAAa,KACbC,kBAAmB,KACnBC,oBAAqB,CACpBC,WAAW,EACXC,MAAM,EACNC,UAAW,EACXC,MAAO,GACPC,QAAS,QACTnC,MAAO,EACPoC,UAAW,CACVC,OAAQ,kEAGVC,iBAAkB,CACjBC,WAAY,OACZC,OAAO,EACPC,QAAS,IAEVC,oBAAqB,CACpBC,YAAa,IACbC,iBAAkB,IAEnBC,gBAAiB,GACjBC,SAAU,SAASC,GAClB,OAAOC,UAAUF,SAASC,EAAK1I,KAAKwI,kBAErCI,WAAY,KACZC,iBAAkB,GAClBC,eAAgB,GAChBC,cAAe,uTACfC,aAAc,8BACdC,aAAa,EACbC,gBAAiB,CAOhBC,YAAa,SAASC,GACrB,OAAOA,IAGTC,wBAAwB,EACxBC,4BAA6B,IAC7BC,sBAAuB,aACvBC,YAAa,aACbC,oBAAqB,aACrBC,gBAAiB,aACjBC,iBAAkB,aAClBC,qBAAsB,aACtBC,eAAgB,aAChBC,KAAM,aACNC,mBAAoB,aACpBC,UAAW,aACXC,OAAQ,aACRC,iBAAkB,aAClBC,cAAe,aACfC,gBAAiB,aACjBC,UAAW,aACXC,aAAc,aACdC,aAAc,aACdC,WAAY,aACZC,cAAe,WAAa,OAAO,GACnCC,cAAe,WAAa,OAAO,WAMpC1E,EAAG2E,WAAa,WACf,IAAIlJ,SAASmJ,eAAe,mBAA5B,CAEA,IAAIC,EAAMpJ,SAASU,cAAc,OACjC0I,EAAIhF,GAAI,kBACRgF,EAAIC,aAAa,QAAS9E,EAAGgD,cAC7B6B,EAAIC,aAAa,OAAQ,UACzBD,EAAIE,UAAY,0BAA4B/E,EAAGiB,SAAWjB,EAAGiB,SAAS+D,OAAO,WAAa,cAAgB,UACtGvJ,SAASwJ,MACZxJ,SAASwJ,KAAK1H,YAAYsH,KAM5B7E,EAAGkF,cAAgB,WAClB,IAAIC,EAAK1J,SAASmJ,eAAe,mBAC7BO,GACHA,EAAGC,WAAWC,YAAYF,IAQ5BnF,EAAGsF,cAAgB,SAASH,GAC3B,IAAIA,EAAGI,QAAQC,MAAf,CAGA,IADA,IAAIC,EAAO,GACFzH,EAAI,EAAGA,EAAImH,EAAGO,SAAShL,QAElB,MADb+K,EAAON,EAAGO,SAAS1H,GAAG+G,UAAUpH,QADOK,KAK3B,KAATyH,GACHN,EAAGQ,UAAUC,IAAI,UAClBT,EAAGI,QAAQC,OAAQ,IAMpBxF,EAAG6F,eAAiB,WACnBC,MAAMC,UAAUC,QAAQjL,KAAKU,SAASwK,iBAAiB,8CAA+CjM,KAAKsL,gBAS5GvF,EAAqBV,uBAJrB,SAAS6G,EAAgBC,GACxBnG,EAAG6F,iBACH9F,EAAqBV,sBAAsB6G,MAK5CzK,SAAS2K,iBAAiB,oBAAoB,SAASC,GACtDrG,EAAG2E,aACH3E,EAAG6F,iBACHtG,qBAAqBQ,GACrBuG,OAAOrM,OAAO0E,KAAK,UAMpBqB,EAAGuG,yBAA2B,CAC7BC,UAAW,iBACXC,iBAAiB,EACjBC,WAAY,CACXC,SAAU,QACVC,gBAAgB,IAOlB5G,EAAG6G,sBAAwB,WAC1B,IAAIC,EAAIC,OACJD,EAAE,QAAQE,SAAS,kBACtBF,EAAE,0BAA0BG,kBAAkBjH,EAAGuG,0BACjDO,EAAE,6CAA6CG,kBAAkBjH,EAAGuG,4BAKtEvG,EAAGxB,UAAY,CAAC,MAAO,QAQvBwB,EAAG/F,OAAS,SAASuD,EAAOjD,EAAUS,GACjCT,GAAwB,QAAZA,IAAyD,GAAnCyF,EAAGxB,UAAU0I,QAAQ3M,IAC1DyF,EAAGxB,UAAUN,KAAK3D,GAEnB,IAAIY,GADJqC,EAAQsI,MAAMqB,QAAQ3J,GAASA,EAAQ,CAACA,IACvB4J,QACG,oBAATjM,GACa,mBAAZH,GACVA,IACDsL,OAAOrM,OAAO0E,KAAKpE,KACTY,GAAU2K,MAAMqB,QAAQhM,KAASA,EAAKT,OAWhDsF,EAAG/F,OAAOuD,EAAOjD,EAAUS,GAV3BsL,OAAOrM,OAAOkB,EAAM,CACnBH,QAAS,WACRgF,EAAG/F,OAAOuD,EAAOjD,EAAUS,IAE5BC,MAAO,SAASoM,GACfC,QAAQC,IAAI,mBAAqBF,EAAaG,KAAK,OACnDxH,EAAG/F,OAAOuD,EAAOjD,EAAUS,OAe/BgF,EAAG1B,MAAQ,SAASC,EAAMf,EAAOjD,EAAUS,GAC1CsL,OAAOrM,OAAOqE,MAAMC,GAAM,WACzByB,EAAG/F,OAAOuD,EAAOjD,EAAUS,OAS7BgF,EAAGyH,SAAW,SAASC,GACtB1N,KAAK0N,IAAMA,EACX1N,KAAKgL,OAAS,SAASnF,GACtB,OAAO7F,KAAK0N,IAAI7H,EAAG8H,iBAWrB3H,EAAG4H,eAAiB,SAASC,EAAMC,GAClC,IAAIhB,EAAIC,OAAQgB,EAASF,GAAQA,EAAKG,OAAUH,EAAOf,EAAEe,GACzD,GAAKE,EAAMC,OAAX,CAEA,IAAInN,EAAO,CAACoN,UAAWF,EAAOD,KAAMA,GACpChB,EAAErL,UAAUqG,QAAQ,iBAAkB,CAACjH,IACvC,IAAI4K,EAAOsC,EAAMC,OAAOnN,EAAKiN,KAAM9H,EAAGkD,iBACrCgF,EAASrN,EAAKoN,UAAUH,KAAK,UAC7BK,EAAStN,EAAKoN,UAAUH,KAAK,UAO9B,OANIrC,GAAQyC,GAAUC,EACrBrB,EAAErB,GAAMyC,GAAQC,GACR1C,IAASyC,GAAUC,EAC3BrB,EAAEqB,GAAQ1C,KAAKA,IACPA,GAASyC,GAAWC,GAC5BJ,EAAMK,SAASC,OAAO5C,GAChBA,IAQRzF,EAAGsI,kBAAoB,SAAS/M,GAC/B,IAAIuL,EAAIC,OAAkB5B,EAAM5J,GAAKA,EAAE4M,OAAU5M,EAAE4M,OAAS1M,SAC5DqL,EAAE3B,GAAIoD,KAAK,mBAAmBzE,MAAK,SAAU0E,EAAGC,GAG/C,OAFAD,EAAIE,SAAS5B,EAAE0B,GAAGV,KAAK,OAAQ,KAAO,IACtCW,EAAIC,SAAS5B,EAAE2B,GAAGX,KAAK,OAAQ,KAAO,GAE9B,EACEU,EAAIC,GACL,EAED,KAENE,MAAK,SAASC,GAChB,IAAIC,EAAQ/B,EAAE9M,MAAO8O,EAAOD,EAAMf,KAAK,QAASA,EAAOe,EAAMf,KAAK,QAC9DA,GAAuB,iBAARA,KAClBA,EAAO9H,EAAGkB,KAAK4G,IAASxB,OAAOwB,MAI5BgB,EACEhC,EAAEkB,OAAOc,KACbhC,EAAE/E,UAAU+G,EAAMD,EAAME,QACxB/I,EAAG4H,eAAeiB,EAAOf,IAG1B9H,EAAG4H,eAAeiB,EAAOf","sourcesContent":["this.loadjs = (function () { //***\n/**\n * Global dependencies.\n * @global {Object} document - DOM\n */\n\nvar devnull = function() {},\n    bundleIdCache = {},\n    bundleResultCache = {},\n    bundleCallbackQueue = {};\n\n\n/**\n * Subscribe to bundle load event.\n * @param {string[]} bundleIds - Bundle ids\n * @param {Function} callbackFn - The callback function\n */\nfunction subscribe(bundleIds, callbackFn) {\n  // listify\n  bundleIds = bundleIds.push ? bundleIds : [bundleIds];\n\n  var depsNotFound = [],\n      i = bundleIds.length,\n      numWaiting = i,\n      fn,\n      bundleId,\n      r,\n      q;\n\n  // define callback function\n  fn = function (bundleId, pathsNotFound) {\n    if (pathsNotFound.length) depsNotFound.push(bundleId);\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(depsNotFound);\n  };\n\n  // register callback\n  while (i--) {\n    bundleId = bundleIds[i];\n\n    // execute callback if in result cache\n    r = bundleResultCache[bundleId];\n    if (r) {\n      fn(bundleId, r);\n      continue;\n    }\n\n    // add to callback queue\n    q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\n    q.push(fn);\n  }\n}\n\n\n/**\n * Publish bundle load event.\n * @param {string} bundleId - Bundle id\n * @param {string[]} pathsNotFound - List of files not found\n */\nfunction publish(bundleId, pathsNotFound) {\n  // exit if id isn't defined\n  if (!bundleId) return;\n\n  var q = bundleCallbackQueue[bundleId];\n\n  // cache result\n  bundleResultCache[bundleId] = pathsNotFound;\n\n  // exit if queue is empty\n  if (!q) return;\n\n  // empty callback queue\n  while (q.length) {\n    q[0](bundleId, pathsNotFound);\n    q.splice(0, 1);\n  }\n}\n\n\n/**\n * Execute callbacks.\n * @param {Object or Function} args - The callback args\n * @param {string[]} depsNotFound - List of dependencies not found\n */\nfunction executeCallbacks(args, depsNotFound) {\n  // accept function as argument\n  if (args.call) args = {success: args};\n\n  // success and error callbacks\n  if (depsNotFound.length) (args.error || devnull)(depsNotFound);\n  else (args.success || devnull)(args);\n}\n\n\n/**\n * Load individual file.\n * @param {string} path - The file path\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFile(path, callbackFn, args, numTries) {\n  var doc = document,\n      async = args.async,\n      maxTries = (args.numRetries || 0) + 1,\n      beforeCallbackFn = args.before || devnull,\n      pathname = path.replace(/[\\?|#].*$/, ''),\n      pathStripped = path.replace(/^(css|img)!/, ''),\n      isLegacyIECss,\n      e;\n\n  numTries = numTries || 0;\n\n  if (/(^css!|\\.css$)/.test(pathname)) {\n    // css\n    e = doc.createElement('link');\n    e.rel = 'stylesheet';\n    e.href = pathStripped;\n\n    // tag IE9+\n    isLegacyIECss = 'hideFocus' in e;\n\n    // use preload in IE Edge (to detect load errors)\n    if (isLegacyIECss && e.relList) {\n      isLegacyIECss = 0;\n      e.rel = 'preload';\n      e.as = 'style';\n    }\n  } else if (/(^img!|\\.(png|gif|jpg|svg|webp)$)/.test(pathname)) {\n    // image\n    e = doc.createElement('img');\n    e.src = pathStripped;\n  } else {\n    // javascript\n    e = doc.createElement('script');\n    e.src = path;\n    e.async = async === undefined ? true : async;\n  }\n\n  e.onload = e.onerror = e.onbeforeload = function (ev) {\n    var result = ev.type[0];\n\n    // treat empty stylesheets as failures to get around lack of onerror\n    // support in IE9-11\n    if (isLegacyIECss) {\n      try {\n        if (!e.sheet.cssText.length) result = 'e';\n      } catch (x) {\n        // sheets objects created from load errors don't allow access to\n        // `cssText` (unless error is Code:18 SecurityError)\n        if (x.code != 18) result = 'e';\n      }\n    }\n\n    // handle retries in case of load failure\n    if (result == 'e') {\n      // increment counter\n      numTries += 1;\n\n      // exit function and try again\n      if (numTries < maxTries) {\n        return loadFile(path, callbackFn, args, numTries);\n      }\n    } else if (e.rel == 'preload' && e.as == 'style') {\n      // activate preloaded stylesheets\n      return e.rel = 'stylesheet'; // jshint ignore:line\n    }\n\n    // execute callback\n    callbackFn(path, result, ev.defaultPrevented);\n  };\n\n  // add to document (unless callback returns `false`)\n  if (beforeCallbackFn(path, e) !== false && e.tagName != \"IMG\") doc.head.appendChild(e); //***\n}\n\n\n/**\n * Load multiple files.\n * @param {string[]} paths - The file paths\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFiles(paths, callbackFn, args) {\n  // listify paths\n  paths = paths.push ? paths : [paths];\n\n  var numWaiting = paths.length,\n      x = numWaiting,\n      pathsNotFound = [],\n      fn,\n      i;\n\n  // define callback function\n  fn = function(path, result, defaultPrevented) {\n    // handle error\n    if (result == 'e') pathsNotFound.push(path);\n\n    // handle beforeload event. If defaultPrevented then that means the load\n    // will be blocked (ex. Ghostery/ABP on Safari)\n    if (result == 'b') {\n      if (defaultPrevented) pathsNotFound.push(path);\n      else return;\n    }\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(pathsNotFound);\n  };\n\n  // load scripts\n  for (i=0; i < x; i++) loadFile(paths[i], fn, args);\n}\n\n\n/**\n * Initiate script load and register bundle.\n * @param {(string|string[])} paths - The file paths\n * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\n *   callback or (3) object literal with success/error arguments, numRetries,\n *   etc.\n * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\n *   literal with success/error arguments, numRetries, etc.\n */\nfunction loadjs(paths, arg1, arg2) {\n  var bundleId,\n      args;\n\n  // bundleId (if string)\n  if (arg1 && arg1.trim) bundleId = arg1;\n\n  // args (default is {})\n  args = (bundleId ? arg2 : arg1) || {};\n\n  // throw error if bundle is already defined\n  if (bundleId) {\n    if (bundleId in bundleIdCache) {\n      throw \"LoadJS\";\n    } else {\n      bundleIdCache[bundleId] = true;\n    }\n  }\n\n  function loadFn(resolve, reject) {\n    loadFiles(paths, function (pathsNotFound) {\n      // execute callbacks\n      executeCallbacks(args, pathsNotFound);\n\n      // resolve Promise\n      if (resolve) {\n        executeCallbacks({success: resolve, error: reject}, pathsNotFound);\n      }\n\n      // publish bundle load event\n      publish(bundleId, pathsNotFound);\n    }, args);\n  }\n\n  if (args.returnPromise) return new Promise(loadFn);\n  else loadFn();\n}\n\n\n/**\n * Execute callbacks when dependencies have been satisfied.\n * @param {(string|string[])} deps - List of bundle ids\n * @param {Object} args - success/error arguments\n */\nloadjs.ready = function ready(deps, args) {\n  // subscribe to bundle load event\n  subscribe(deps, function (depsNotFound) {\n    // execute callbacks\n    executeCallbacks(args, depsNotFound);\n  });\n\n  return loadjs;\n};\n\n\n/**\n * Manually satisfy bundle dependencies.\n * @param {string} bundleId - The bundle id\n */\nloadjs.done = function done(bundleId) {\n  publish(bundleId, []);\n};\n\n\n/**\n * Reset loadjs dependencies statuses\n */\nloadjs.reset = function reset() {\n  bundleIdCache = {};\n  bundleResultCache = {};\n  bundleCallbackQueue = {};\n};\n\n\n/**\n * Determine if bundle has already been defined\n * @param String} bundleId - The bundle id\n */\nloadjs.isDefined = function isDefined(bundleId) {\n  return bundleId in bundleIdCache;\n};\n\n\n// export\nreturn loadjs;\n\n})();\n","(function (global) {\r\n\tvar rafPrefix;\r\n\r\n\t// do not inject RAF in order to avoid broken performance\r\n\tvar nowOffset = Date.now();\r\n\r\n\t// use performance api if exist, otherwise use Date.now.\r\n\t// Date.now polyfill required.\r\n\tvar pnow = function () {\r\n\t\tif (global.performance && typeof global.performance.now === 'function') {\r\n\t\t\treturn global.performance.now();\r\n\t\t}\r\n\t\t// fallback\r\n\t\treturn Date.now() - nowOffset;\r\n\t};\r\n\r\n\tif ('mozRequestAnimationFrame' in global) {\r\n\t\trafPrefix = 'moz';\r\n\r\n\t} else if ('webkitRequestAnimationFrame' in global) {\r\n\t\trafPrefix = 'webkit';\r\n\r\n\t}\r\n\r\n\tif (rafPrefix) {\r\n\t\tif (!global.requestAnimationFrame) //***\r\n\t\t\tglobal.requestAnimationFrame = function (callback) {\r\n\t\t\t\treturn global[rafPrefix + 'RequestAnimationFrame'](function () {\r\n\t\t\t\t\tcallback(pnow());\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\tif (!global.cancelAnimationFrame) //***\r\n\t\t\tglobal.cancelAnimationFrame = global[rafPrefix + 'CancelAnimationFrame'];\r\n\t} else {\r\n\r\n\t\tvar lastTime = Date.now();\r\n\r\n\t\tglobal.requestAnimationFrame = function (callback) {\r\n\t\t\tif (typeof callback !== 'function') {\r\n\t\t\t\tthrow new TypeError(callback + ' is not a function');\r\n\t\t\t}\r\n\r\n\t\t\tvar\r\n\t\t\tcurrentTime = Date.now(),\r\n\t\t\tdelay = 16 + lastTime - currentTime;\r\n\r\n\t\t\tif (delay < 0) {\r\n\t\t\t\tdelay = 0;\r\n\t\t\t}\r\n\r\n\t\t\tlastTime = currentTime;\r\n\r\n\t\t\treturn setTimeout(function () {\r\n\t\t\t\tlastTime = Date.now();\r\n\r\n\t\t\t\tcallback(pnow());\r\n\t\t\t}, delay);\r\n\t\t};\r\n\r\n\t\tglobal.cancelAnimationFrame = function (id) {\r\n\t\t\tclearTimeout(id);\r\n\t\t};\r\n\t}\r\n}(this));\r\n","import \"./loadjs\";\r\nimport \"./requestAnimationFrame\";\r\n\r\nvar ew = {\r\n\tPAGE_ID: \"\", // Page ID // To be updated in page\r\n\tRELATIVE_PATH: \"\", // Relative path // To be updated in page\r\n\tGENERATE_PASSWORD_UPPERCASE: true,\r\n\tGENERATE_PASSWORD_LOWERCASE: true,\r\n\tGENERATE_PASSWORD_NUMBER: true,\r\n\tGENERATE_PASSWORD_SPECIALCHARS: true,\r\n\tCONFIRM_CANCEL: true,\r\n\tROWTYPE_ADD: 2,\r\n\tROWTYPE_EDIT: 3,\r\n\tUNFORMAT_YEAR: 50,\r\n\tLAZY_LOAD_RETRIES: 3,\r\n\tAJAX_DELAY: 5,\r\n\tLOOKUP_DELAY: 250,\r\n\tMAX_OPTION_COUNT: 3,\r\n\tSHOW_EXPORT_DIALOG: true,\r\n\tUSE_OVERLAY_SCROLLBARS: true, // For responsive tables\r\n\tlanguage: null,\r\n\tvars: null,\r\n\tgoogleMaps: [],\r\n\taddOptionDialog: null,\r\n\temailDialog: null,\r\n\timportDialog: null,\r\n\tmodalDialog: null,\r\n\tmodalLookupDialog: null,\r\n\tautoSuggestSettings: {\r\n\t\thighlight: true,\r\n\t\thint: true,\r\n\t\tminLength: 1,\r\n\t\tlimit: 10,\r\n\t\ttrigger: \"click\",\r\n\t\tdelay: 0,// For loading more results\r\n\t\ttemplates: { // Custom templates for Typeahead (notFound, pending, header, footer, suggestion)\r\n\t\t\tfooter: '<div class=\"tt-footer\"><a href=\"#\" class=\"tt-more\"></a></div>' // \"footer\" template\r\n\t\t}\r\n\t},\r\n\tlightboxSettings: {\r\n\t\ttransition: \"none\",\r\n\t\tphoto: true,\r\n\t\topacity: 0.5\r\n\t},\r\n\timportUploadOptions: {\r\n\t\tmaxFileSize: 10000000,\r\n\t\tmaxNumberOfFiles: 10\r\n\t},\r\n\tDOMPurifyConfig: {},\r\n\tsanitize: function(str) {\r\n\t\treturn DOMPurify.sanitize(str, this.DOMPurifyConfig);\r\n\t},\r\n\tsanitizeFn: null, // For Bootstrap Tooltips and Popovers\r\n\tPDFObjectOptions: {},\r\n\tchartJsOptions: {},\r\n\ttoastTemplate: '<div class=\"toast\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\"><div class=\"toast-header\"><strong class=\"mr-auto\"></strong><button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div><div class=\"toast-body\"></div></div>',\r\n\tspinnerClass: \"spinner-border text-primary\", // spinner-border or spinner-grow\r\n\tuseJsRender: false,\r\n\tjsRenderHelpers: {\r\n\t\t/**\r\n\t\t * Get JsRender template (See https://www.jsviews.com/#tagsyntax@composition for details)\r\n\t\t *\r\n\t\t * @param {string} selector\r\n\t\t * @returns Compiled template, or HTML markup string, or name of registered template, or selector\r\n\t\t */\r\n\t\tgetTemplate: function(selector) {\r\n\t\t\treturn selector;\r\n\t\t}\r\n\t},\r\n\tautoHideSuccessMessage: true,\r\n\tautoHideSuccessMessageDelay: 5000,\r\n\tsearchOperatorChanged: function() {},\r\n\tsetLanguage: function() {},\r\n\taddOptionDialogShow: function() {},\r\n\tmodalLookupShow: function() {},\r\n\timportDialogShow: function() {},\r\n\ttoggleSearchOperator: function() {},\r\n\ttogglePassword: function() {},\r\n\tsort: function() {},\r\n\tclickMultiCheckbox: function() {},\r\n\tclearForm: function() {},\r\n\texport: function() {},\r\n\texportWithCharts: function() {},\r\n\tsetSearchType: function() {},\r\n\temailDialogShow: function() {},\r\n\tselectAll: function() {},\r\n\tselectAllKey: function() {},\r\n\tsubmitAction: function() {},\r\n\taddGridRow: function() {},\r\n\tconfirmDelete: function() { return false; },\r\n\tdeleteGridRow: function() { return false; }\r\n};\r\n\r\n/**\r\n * Add spinner\r\n */\r\new.addSpinner = function() {\r\n\tif (document.getElementById(\"ew-page-spinner\"))\r\n\t\treturn;\r\n\tvar div = document.createElement(\"div\");\r\n\tdiv.id =\"ew-page-spinner\";\r\n\tdiv.setAttribute(\"class\", ew.spinnerClass);\r\n\tdiv.setAttribute(\"role\", \"status\");\r\n\tdiv.innerHTML = '<span class=\"sr-only\">' + (ew.language ? ew.language.phrase(\"Loading\") : \"Loading...\") + '</span>';\r\n\tif (document.body)\r\n\t\tdocument.body.appendChild(div);\r\n};\r\n\r\n/**\r\n * Remove spinner\r\n */\r\new.removeSpinner = function() {\r\n\tvar el = document.getElementById(\"ew-page-spinner\");\r\n\tif (el)\r\n\t\tel.parentNode.removeChild(el);\r\n};\r\n\r\n/**\r\n * Init grid upper/lower panel\r\n *\r\n * @param {HTMLElement} el - Element\r\n */\r\new.initGridPanel = function(el) {\r\n\tif (el.dataset.isset)\r\n\t\treturn;\r\n\tvar html = \"\";\r\n\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\thtml = el.children[i].innerHTML.trim();\r\n\t\tif (html !== \"\")\r\n\t\t\tbreak;\r\n\t}\r\n\tif (html === \"\")\r\n\t\tel.classList.add(\"d-none\");\r\n\tel.dataset.isset = true;\r\n};\r\n\r\n/**\r\n * Init grid upper and lower panels\r\n */\r\new.initGridPanels = function() {\r\n\tArray.prototype.forEach.call(document.querySelectorAll(\".ew-grid-upper-panel, .ew-grid-lower-panel\"), this.initGridPanel);\r\n}\r\n\r\n// Request animation frame to init grid lower and upper panels\r\nvar _initGridPanelsReq;\r\nfunction _initGridPanels(timestamp) {\r\n\tew.initGridPanels();\r\n\t_initGridPanelsReq = requestAnimationFrame(_initGridPanels);\r\n}\r\n_initGridPanelsReq = requestAnimationFrame(_initGridPanels);\r\n\r\n// DOM content loaded\r\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\r\n\tew.addSpinner();\r\n\tew.initGridPanels();\r\n\tcancelAnimationFrame(_initGridPanelsReq);\r\n\twindow.loadjs.done(\"dom\");\r\n});\r\n\r\n/**\r\n * Overlay scrollbars options for sidebars\r\n */\r\new.sidebarScrollbarsOptions = {\r\n\tclassName: \"os-theme-light\",\r\n\tsizeAutoCapable: true,\r\n\tscrollbars: {\r\n\t\tautoHide: \"leave\",\r\n\t\tclickScrolling: true\r\n\t}\r\n};\r\n\r\n/**\r\n * Init overlay scrollbars for sidebars\r\n */\r\new.initSidebarScrollbars = function() {\r\n\tvar $ = jQuery;\r\n\tif ($(\"body\").hasClass(\"layout-fixed\")) {\r\n\t\t$(\".main-sidebar .sidebar\").overlayScrollbars(ew.sidebarScrollbarsOptions);\r\n\t\t$(\".control-sidebar .control-sidebar-content\").overlayScrollbars(ew.sidebarScrollbarsOptions);\r\n\t}\r\n};\r\n\r\n// All bundle IDs\r\new.bundleIds = [\"dom\", \"head\"];\r\n\r\n/**\r\n * Initiate script load (async in series) and register bundle\r\n * @param {(string|string[])} paths - The file paths\r\n * @param {string} [bundleId] - The bundleId\r\n * @param {Function} [success] - The success callback\r\n */\r\new.loadjs = function(paths, bundleId, success) {\r\n\tif (bundleId && bundleId != \"load\" && ew.bundleIds.indexOf(bundleId) == -1)\r\n\t\tew.bundleIds.push(bundleId);\r\n\tpaths = Array.isArray(paths) ? paths : [paths];\r\n\tvar path = paths.shift();\r\n\tif (typeof path === \"undefined\") { // paths = [], all done\r\n\t\tif (typeof success === \"function\")\r\n\t\t\tsuccess();\r\n\t\twindow.loadjs.done(bundleId);\r\n\t} else if (path && (!Array.isArray(path) || path.length)) { // Valid path\r\n\t\twindow.loadjs(path, {\r\n\t\t\tsuccess: function() {\r\n\t\t\t\tew.loadjs(paths, bundleId, success);\r\n\t\t\t},\r\n\t\t\terror: function(pathNotFound) {\r\n\t\t\t\tconsole.log(\"Path not found: \" + pathNotFound.join(\", \"));\r\n\t\t\t\tew.loadjs(paths, bundleId, success); // Continue\r\n\t\t\t}\r\n\t\t});\r\n\t} else { // Invalid path, continue\r\n\t\tew.loadjs(paths, bundleId, success);\r\n\t}\r\n};\r\n\r\n/**\r\n * Initiate script load (async in series) when dependencies have been satisfied\r\n * @param {(string|string[])} deps - List of bundle ids\r\n * @param {(string|string[])} paths - The file paths\r\n * @param {string} [bundleId] - The bundleId\r\n * @param {Function} [success] - The success callback\r\n */\r\new.ready = function(deps, paths, bundleId, success) {\r\n\twindow.loadjs.ready(deps, function() {\r\n\t\tew.loadjs(paths, bundleId, success);\r\n\t});\r\n};\r\n\r\n/**\r\n * Language class\r\n *\r\n * @param {Object} obj Phrases\r\n */\r\new.Language = function(obj) {\r\n\tthis.obj = obj;\r\n\tthis.phrase = function(id) {\r\n\t\treturn this.obj[id.toLowerCase()];\r\n\t};\r\n};\r\n\r\n/**\r\n * Render client side template, use the HTML in DOM and return the HTML\r\n *\r\n * @param {jQuery} tmpl Template\r\n * @param {Object} data Data\r\n * @returns HTML string\r\n */\r\new.renderTemplate = function(tmpl, data) {\r\n\tvar $ = jQuery, $tmpl = (tmpl && tmpl.render) ? tmpl : $(tmpl);\r\n\tif (!$tmpl.render)\r\n\t\treturn;\r\n\tvar args = {$template: $tmpl, data: data};\r\n\t$(document).trigger(\"rendertemplate\", [args])\r\n\tvar html = $tmpl.render(args.data, ew.jsRenderHelpers),\r\n\t\tmethod = args.$template.data(\"method\"),\r\n\t\ttarget = args.$template.data(\"target\");\r\n\tif (html && method && target) // Render by specified method to target\r\n\t\t$(html)[method](target);\r\n\telse if (html && !method && target) // No method, render as inner HTML of target\r\n\t\t$(target).html(html);\r\n\telse if (html && !method && !target) // No method and target, render locally\r\n\t\t$tmpl.parent().append(html);\r\n\treturn html;\r\n};\r\n\r\n/**\r\n * Render all client side templates\r\n *\r\n * @param {*} e Event\r\n */\r\new.renderJsTemplates = function(e) {\r\n\tvar $ = jQuery, ids = {}, el = (e && e.target) ? e.target : document;\r\n\t$(el).find(\".ew-js-template\").sort(function (a, b) {\r\n\t\ta = parseInt($(a).data(\"seq\"), 10) || 0;\r\n\t\tb = parseInt($(b).data(\"seq\"), 10) || 0;\r\n\t\tif (a > b) {\r\n\t\t\treturn 1;\r\n\t\t} else if(a < b) {\r\n\t\t\treturn -1;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}).each(function(index) {\r\n\t\tvar $this = $(this), name = $this.data(\"name\"), data = $this.data(\"data\");\r\n\t\tif (data && typeof data == \"string\") {\r\n\t\t\tdata = ew.vars[data] || window[data]; // Get data from ew.vars or global\r\n\t\t\tif (!data) // Data not found (e.g. no header)\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t\tif (name) {\r\n\t\t\tif (!$.render[name]) { // Render the first template of any named template only\r\n\t\t\t\t$.templates(name, $this.text());\r\n\t\t\t\tew.renderTemplate($this, data);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tew.renderTemplate($this, data);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport default ew;"]}